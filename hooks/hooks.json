{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/guard-main-branch.sh",
            "statusMessage": "Checking branch safety..."
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/secret-scan-precommit.sh",
            "statusMessage": "Scanning for secrets..."
          }
        ]
      }
    ],
    "WorktreeCreate": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/worktree-setup.sh",
            "statusMessage": "Setting up worktree environment..."
          }
        ]
      }
    ],
    "TeammateIdle": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/teammate-idle-guard.sh",
            "statusMessage": "Checking session summary..."
          }
        ]
      }
    ],
    "TaskCompleted": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/task-completed-guard.sh",
            "statusMessage": "Verifying task completion..."
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/hooks/reconcile-reminder.sh",
            "statusMessage": "Checking for unreconciled summaries..."
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "TOPLEVEL=$(git rev-parse --show-toplevel 2>/dev/null); MAIN=$(git worktree list 2>/dev/null | head -1 | awk '{print $1}'); if [ \"$TOPLEVEL\" != \"$MAIN\" ] && [ -n \"$MAIN\" ]; then echo 'export BEADS_NO_DAEMON=1' >> \"$CLAUDE_ENV_FILE\"; fi",
            "statusMessage": "Configuring worktree environment..."
          }
        ]
      }
    ]
  }
}
